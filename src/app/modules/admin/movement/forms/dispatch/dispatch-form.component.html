<div class="flex flex-col w-full h-full">
    <!-- Header -->
    <app-details-header (onClose)="onClickCancel()"
                        [showIcon]="false"
                        [showImage]="false"
                        editLabel="Ver Detalhes"
                        [viewMode]="false"></app-details-header>

    <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0">
        <div class="w-full max-w-3xl">
            <div class="flex flex-col mt-4 space-y-8">
                <div class="text-2xl font-bold truncate border-b w-full">
                    Edição de Histórico - Despacho
                </div>

                <form [formGroup]="form">
                    <mat-form-field appearance="fill" class="w-full">
                        <mat-label>Despacho</mat-label>
                        <input [matAutocomplete]="magazines"
                               aria-label="dispatch"
                               formControlName="dispatch"
                               matInput
                               required
                               type="text">
                        <mat-autocomplete #magazines="matAutocomplete" [displayWith]="getMovementName">
                            <mat-option *ngFor="let movement of movementList" [value]="movement">
                                {{ movement.nome }}
                            </mat-option>
                        </mat-autocomplete>
                    </mat-form-field>

                    <div class="flex flex-col mr-2">
                        <div class="mt-3 mr-2">
                            <mat-form-field appearance="fill" class="w-full">
                                <mat-label>Número da RPI</mat-label>
                                <input [matAutocomplete]="magazines"
                                       aria-label="magazineNumber"
                                       formControlName="magazineNumber"
                                       matInput
                                       required
                                       type="text">
                                <mat-autocomplete #magazines="matAutocomplete" [displayWith]="getMagazineName">
                                    <mat-option *ngFor="let magazine of magazineList" [value]="magazine">
                                        {{ magazine.numerorevista }}
                                    </mat-option>
                                </mat-autocomplete>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="mt-3 mr-2">
                        <mat-form-field class="w-full">
                            <mat-label>Data</mat-label>
                            <input [matDatepicker]="picker" formControlName="magazineDate" matInput>
                            <mat-hint>DD/MM/YYYY</mat-hint>
                            <mat-datepicker-toggle [for]="picker" matIconSuffix></mat-datepicker-toggle>
                            <mat-datepicker #picker></mat-datepicker>
                        </mat-form-field>
                    </div>

                    <div class="mt-3 mr-2">
                        <mat-form-field class="w-full">
                            <mat-label>Complemento do Despacho</mat-label>
                            <textarea [spellcheck]="false"
                                      formControlName="complement"
                                      matInput
                                      style="height: 36px">
                            </textarea>
                        </mat-form-field>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <app-actions-form (cancel)="onClickCancel()"
                      (delete)="onClickDelete()"
                      (save)="onclickSave()"
                      [saveDisabled]="form.invalid"
                      [showRemoveButton]="true"></app-actions-form>
</div>
