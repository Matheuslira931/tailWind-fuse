<div class="flex flex-col w-full h-full">

    <!-- Header -->
    <app-details-header (onClose)="closeDrawer()"
                        (onEdit)="toggleEditMode(true)"
                        [imageLabel]="record?.nome"
                        [viewMode]="!editMode"></app-details-header>

    <!-- View mode -->
    <ng-container *ngIf="!editMode">
        <!-- Contact -->
        <div class="relative flex flex-col flex-auto items-center p-6 pt-0 sm:p-12 sm:pt-0">
            <div class="w-full max-w-3xl">
                <!-- Name -->
                <div class="text-4xl font-bold truncate">{{record?.nome}}</div>
            </div>
        </div>
    </ng-container>

    <!-- Edit mode -->
    <ng-container *ngIf="editMode">
        <!-- Contact form -->
        <div class="relative flex flex-col flex-auto items-center px-6 sm:px-12 h-full">
            <div class="w-full h-full">
                <form class="h-full flex flex-col justify-between" [formGroup]="form">

                    <div>
                        <mat-form-field
                                class="w-full"
                                [subscriptSizing]="'dynamic'">
                            <mat-label>Name</mat-label>
                            <mat-icon
                                    matPrefix
                                    class="hidden sm:flex icon-size-5"
                                    [svgIcon]="'heroicons_solid:user-circle'"></mat-icon>
                            <input
                                    matInput
                                    [formControlName]="'nome'"
                                    [placeholder]="'Nome'"
                                    [spellcheck]="false">
                        </mat-form-field>
                    </div>

                    <!-- Actions -->
                    <div class="flex items-center mt-10 -mx-6 sm:-mx-12 py-4 pr-4 pl-1 sm:pr-12 sm:pl-7 border-t bg-gray-50 dark:bg-transparent">
                        <!-- Delete -->
                        <button
                            (click)="delete()"
                                mat-button
                                [color]="'warn'"
                                [matTooltip]="'Excluir'"
                            *ngIf="!!record?.id">
                            Excluir
                        </button>
                        <!-- Cancel -->
                        <button
                                class="ml-auto"
                                mat-button
                                [matTooltip]="'Cancelar'"
                                (click)="toggleEditMode(false)">
                            Cancelar
                        </button>
                        <!-- Save -->
                        <button
                                class="ml-2"
                                mat-flat-button
                                [color]="'primary'"
                                [disabled]="form.invalid"
                                [matTooltip]="'Salvar'"
                                (click)="save()">
                            Salvar
                        </button>
                    </div>

                </form>
            </div>
        </div>
    </ng-container>
</div>
